<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en" class="app">
    <head >
        <script type="text/javascript">
            function getParam(name)
            {
                name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
                var regexS = "[\\?&]" + name + "=([^&#]*)";
                var regex = new RegExp(regexS);

                var results = regex.exec(window.location.href);
                if (results === null)
                    return "";
                else
                    return results[1];

            }
        </script>
        <meta charset="utf-8" />
        <title>InterView Prep</title>
        <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />
        <link rel="stylesheet" href="../css/animate.css" type="text/css" />
        <link rel="stylesheet" href="../css/font-awesome.min.css" type="text/css" />
        <link rel="stylesheet" href="../css/font.css" type="text/css" />
        <link rel="stylesheet" href="../js/nestable/nestable.css" type="text/css" />
        <link rel="stylesheet" href="../css/app.css" type="text/css" />
        <link rel="stylesheet" href="../css/ScenarioPractice.css" type="text/css" />
        <script src="../js/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="../js/bootstrap.js"></script>
        <!-- App -->
        <script src="../js/app.js"></script>
        <script src="../js/app.plugin.js"></script>
        <script src="../js/slimscroll/jquery.slimscroll.min.js"></script>
        <script src="../js/sortable/jquery.sortable.js"></script>
        <script src="../js/nestable/jquery.nestable.js"></script>
        <script src="../js/nestable/demo.js"></script>
        <!--[if lt IE 9]>
         <script src="js/ie/html5shiv.js"></script>
         <script src="js/ie/respond.min.js"></script>
         <script src="js/ie/excanvas.js"></script>
         <![endif]-->
    </head>
    <body >
        
        <script language="javascript">
            window.onerror = function (err) {
                //log('window.onerror: ' + err)
            }

            function connectWebViewJavascriptBridge(callback) {
                if (window.WebViewJavascriptBridge) {
                    callback(WebViewJavascriptBridge)
                } else {
                    document.addEventListener('WebViewJavascriptBridgeReady', function () {
                        callback(WebViewJavascriptBridge)
                    }, false);
                }
            }

            connectWebViewJavascriptBridge(function (bridge) {
                
                JSInterface =bridge;
                
                
               
                
                var uniqueId = 1;
                var Data;
                var jsObject = new Object();
                jsObject.type = "msg";
                jsObject.data = 6;
                var dataval = JSON.stringify(jsObject);
                bridge.send(dataval, function (responseData) {
                    messageObj = JSON.parse(responseData);
                    //loadMessage(messageObj);
                    
                   
                });
                
                //initialise();
                var jsObject = new Object();
                jsObject.type = "drawData";
                jsObject.data = 6;
                var dataval = JSON.stringify(jsObject);
                bridge.send(dataval, function (responseData) {
                    //messageObj = JSON.parse(responseData);
                    //loadMessage(messageObj);
                    var msg = responseData;
                    initialise(msg); 
                    
                });
            
            function log(message, data) {
                    var log = document.getElementById('log')
                    var el = document.createElement('div')
                    el.className = 'logLine'
                    el.innerHTML = uniqueId++ + '. ' + message + ':<br/>' + JSON.stringify(data)
                    if (log.children.length) {
                        log.insertBefore(el, log.children[0])
                    }
                    else {
                        log.appendChild(el)
                    }
                }
                bridge.init(function (message, responseCallback) {

                    
                    //log('JS got a message', message)
                    var data = {'Javascript Responds': 'Wee!'}
                    //log('JS responding with', data)
                    responseCallback(data)
                });

                bridge.registerHandler('testJavascriptHandler', function (data, responseCallback) {

                    var responseData = {'Javascript Says': 'Right back atcha!'}

                    responseCallback(responseData)
                });
            });
            
            
            
            
            var JSInterface =null;
            var messageObj= null;
//            ;
//            (function($, window, document, undefined)
//            {
                function initialise(msg)
                {

                    var listJsonData = JSON.parse(msg);
                    var listData = listJsonData["instruction"];
                    ScenarioInstruction(listData);
                    //assistModuleUI(listData);
                }


            function handleLearningItemClick(v, v1)
            {
                // dbgAlert("handleLearningClick called"+v+v1);
                showAndroidToast(v, v1);
            }

            function showAndroidToast(v, v1) {
                var obj = new Object();
                obj.uid = v;
                obj.type = v1;
                var jsonString = JSON.stringify(obj);
                //  dbgAlert("handleLearningClick called final"+jsonString);
                JSInterface.setMCatLogResp(jsonString);
            }

            function openAndroidDialog() {
                JSInterface.openAndroidDialog();
            }

            function callFromActivity(msg) {
                makelist1(msg);
                document.getElementById("mytext").innerHTML = msg;
            }


            function ScenarioInstruction(listData)
            {
                var width =$(document).width();
                
                if(width <= 450)
                {
                    
                }
                else if (width > 450 && width < 786 )
                {
                  
                }
                else
                {
                    
                }
                
                if (listData !== null)
                {
                    var overallContainerhead = document.createElement("div");
                    overallContainerhead.setAttribute("class", " overallcontainer scrollable");
                    document.getElementsByTagName("body")[0].appendChild(overallContainerhead);

                    var headerDiv = document.createElement("div");
                    overallContainerhead.appendChild(headerDiv);
                    
                    
                    headerDiv.innerHTML = messageObj.INSTRUCTION_MSG_FR_VR;//"Let us now practice by listening and recording from interview response.";

                    var border = document.createElement("div");
                    overallContainerhead.appendChild(border);
                    border.setAttribute("class", "dotBorder");
                    border.setAttribute("style", "background:#f2f2f2;height:10px;");

                    var subHeaderDiv = document.createElement("div");
                    overallContainerhead.appendChild(subHeaderDiv);
                    if(width <= 400)
                    {
                        subHeaderDiv.setAttribute("class", "SubheaderDivPhone col-lg-12 col-xs-12 ");
                        headerDiv.setAttribute("class", " headerDivPhone");
                    }
                    else if (width > 400 && width < 800 )
                    {
                        subHeaderDiv.setAttribute("class", "SubheaderDivTab col-lg-12 col-xs-12 ");
                        headerDiv.setAttribute("class", " headerDivTab ");
                    }
                    else
                    {
                        subHeaderDiv.setAttribute("class", "SubheaderDiv col-lg-12 col-xs-12 ");
                        headerDiv.setAttribute("class", " headerDiv ");
                    }
                    
                    subHeaderDiv.innerHTML = messageObj.INSTRUCTION_STEP;//"Steps";

                    var overallContainer = document.createElement("div");
                    overallContainer.setAttribute("class", " col-lg-12 col-xs-12 overallcontainer scrollable");
                    overallContainerhead.appendChild(overallContainer);

                    for (var i = 0; i < listData.length; ++i)
                    {
                        var subHeader1Div = document.createElement("div");
                        overallContainer.appendChild(subHeader1Div);
                        if(width <= 400)
                        {
                            subHeader1Div.setAttribute("class", "whitebackGround col-lg-12 col-xs-12 middleElementDivPhone ");
                        }
                        else if (width > 400 && width < 800 )
                        {
                            subHeader1Div.setAttribute("class", "whitebackGround col-lg-12 col-xs-12 middleElementDivTab ");
                        }
                        else
                        {
                            subHeader1Div.setAttribute("class", " whitebackGround col-lg-12 col-xs-12 middleElementDiv ");
                        }
                        
                        subHeader1Div.setAttribute("onclick", "javascript:clickOnDiv('" + listData[i].uid + "','"+listData[i].edgeId+"')");


                        var subHeaderleftDiv = document.createElement("div");
                        subHeader1Div.appendChild(subHeaderleftDiv);
                        subHeaderleftDiv.setAttribute("class", "col-lg-2 col-xs-2 col-sm-2");


                        var Video = document.createElement("div");
                        if (parseInt(listData[i].uid) === 18)
                        {
                            if (parseInt(listData[i].isComp) === 1)
                            {
                                Video.setAttribute("class", "fa fa-video-camera imgStyle ");
                                Video.setAttribute("style", "color:#de5e00");
                            }
                            else
                            {
                                Video.setAttribute("class", "fa fa-video-camera imgStyle ");
                                Video.setAttribute("style", "color:#919191");
                            }
                        }
                        else if (parseInt(listData[i].uid) === 19)
                        {
                            if (parseInt(listData[i].isComp) === 1)
                            {
                                Video.setAttribute("class", "fa fa-user imgStyle");
                                Video.setAttribute("style", "color:#de5e00");
                            }
                            else
                            {
                                Video.setAttribute("class", "fa fa-user imgStyle");
                                Video.setAttribute("style", "color:#919191");
                            }

                        }
                        else if (parseInt(listData[i].uid) === 20)
                        {
                            if (parseInt(listData[i].isComp) === 1)
                            {
                                Video.setAttribute("class", "fa fa-comments imgStyle ");
                                Video.setAttribute("style", "color:#de5e00");
                            }
                            else
                            {
                                Video.setAttribute("class", "fa fa-comments imgStyle ");
                                Video.setAttribute("style", "color:#919191");
                            }

                        }
                        //Video.setAttribute("style","");
                        subHeaderleftDiv.appendChild(Video);


                        var subHeaderRightDiv = document.createElement("div");
                        subHeader1Div.appendChild(subHeaderRightDiv);
                        subHeaderRightDiv.setAttribute("class", "col-lg-10 col-xs-10 col-sm-10 textStyle");
                        //subHeaderRightDiv.setAttribute("style","padding-top:5px;");
                        subHeaderRightDiv.innerHTML = listData[i].name;


                        var border = document.createElement("div");
                        overallContainer.appendChild(border);
                        border.setAttribute("class", "col-lg-12 col-xs-12 dotBorder");


                    }

    //             var subHeader2Div = document.createElement("div");
    //            overallContainer.appendChild(subHeader2Div);
    //            subHeader2Div.setAttribute("class","col-lg-12 col-xs-12 middleElementDiv ");
    //            subHeader2Div.setAttribute("onclick","javascript:clickOnEnact()");
    //            
    //             var subHeaderleftDiv = document.createElement("div");
    //            subHeader2Div.appendChild(subHeaderleftDiv);
    //            subHeaderleftDiv.setAttribute("class","col-lg-2 col-xs-2 col-sm-2");
    //            
    //            var user = document.createElement("div");
    //            user.setAttribute("class","fa fa-user imgStyle");
    //           
    //            subHeaderleftDiv.appendChild(user);
    //            
    //             var subHeaderRightDiv = document.createElement("div");
    //            subHeader2Div.appendChild(subHeaderRightDiv);
    //            
    //            subHeaderRightDiv.setAttribute("class","col-lg-10 col-xs-10 col-sm-10 textStyle");
    //            subHeaderRightDiv.innerHTML = "Enact Scenario";
    //            //subHeaderRightDiv.setAttribute("style","padding-top:5px;");
    //            
    //            
    //            var border = document.createElement("div");
    //            overallContainer.appendChild(border);
    //            border.setAttribute("class","col-lg-12 col-xs-12 dotBorder");
    //            
    //            
    //            
    //            var subHeader3Div = document.createElement("div");
    //            overallContainer.appendChild(subHeader3Div);
    //            subHeader3Div.setAttribute("class","col-lg-12 col-xs-12 middleElementDiv ");
    //            subHeader3Div.setAttribute("onclick","javascript:clickOnPreview()");
    //            
    //             var subHeaderleftDiv = document.createElement("div");
    //            subHeader3Div.appendChild(subHeaderleftDiv);
    //            subHeaderleftDiv.setAttribute("class","col-lg-2 col-xs-2 col-sm-2");
    //            
    //            var chat = document.createElement("div");
    //            chat.setAttribute("class","fa fa-comment-o imgStyle ");
    //            //user.setAttribute("style","font-size:35px;color:#de5e00");
    //            subHeaderleftDiv.appendChild(chat);
    //            
    //            
    //             var subHeaderRightDiv = document.createElement("div");
    //            subHeader3Div.appendChild(subHeaderRightDiv);
    //            subHeaderRightDiv.setAttribute("class","col-lg-10 col-xs-10 col-sm-10 textStyle");
    //            
    //            subHeaderRightDiv.innerHTML = "Review";
                    //subHeaderRightDiv.setAttribute("style","padding-top:5px;");







                }
            }
            function clickOnDiv(uid,edgeId)
            {
                var obj = new Object();
                obj.uid = -1;
                obj.type = uid;
                obj.edgeId = edgeId;// wath 
                var jsonString = JSON.stringify(obj);
                //  dbgAlert("handleLearningClick called final"+jsonString);
                JSInterface.send(jsonString);
            }
        </script>
        
        <span id=dbgsp></span>

    </body>
</html>








